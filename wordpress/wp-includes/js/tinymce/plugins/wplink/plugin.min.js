tinymce.PluginManager.add("wplink",function(o){var t;function i(n,t){var i=o.dom.getParent(t,"a"),e=o.plugins.wpview?o.plugins.wpview.getView:function(){return!1};n.disabled(o.selection.isCollapsed()&&!i||i&&!i.href||e(t)),n.active(i&&i.href)}o.addCommand("WP_Link",function(){t&&t.disabled()||void 0===window.wpLink||window.wpLink.open(o.id)}),o.addShortcut("alt+shift+a","","WP_Link"),o.addShortcut("ctrl+k","","WP_Link"),o.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Alt+Shift+A",cmd:"WP_Link",onPostRender:function(){t=this,o.on("nodechange",function(n){i(t,n.element)})}}),o.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",onPostRender:function(){var t=this;o.on("nodechange",function(n){i(t,n.element)})}}),o.addMenuItem("link",{icon:"link",text:"Insert link",shortcut:"Alt+Shift+A",cmd:"WP_Link",stateSelector:"a[href]",context:"insert",prependToContext:!0})});