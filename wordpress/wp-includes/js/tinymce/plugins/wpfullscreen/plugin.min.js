tinymce.PluginManager.add("wpfullscreen",function(n){var e=n.settings;function t(){e.wp_fullscreen=!0,n.dom.addClass(n.getDoc().documentElement,"wp-fullscreen"),n.execCommand("wpAutoResizeOn")}function l(){return"undefined"!=typeof wp&&wp.editor&&wp.editor.fullscreen}function o(){var e=l();e&&(n.getParam("wp_fullscreen")?e.off():e.on())}n.addCommand("wpFullScreenOn",t),n.addCommand("wpFullScreenOff",function(){e.wp_fullscreen=!1,n.dom.removeClass(n.getDoc().documentElement,"wp-fullscreen"),n.execCommand("wpAutoResizeOff")}),n.addCommand("wpFullScreen",o),n.on("keydown",function(e){var n;27===e.keyCode&&(n=l())&&n.settings.visible&&n.off()}),n.on("init",function(){n.getParam("wp_fullscreen")&&t(),n.addShortcut("alt+shift+w","","wpFullScreen")}),n.addButton("wp_fullscreen",{tooltip:"Distraction Free Writing",shortcut:"Alt+Shift+W",onclick:o,classes:"wp-fullscreen btn widget"}),n.addMenuItem("wp_fullscreen",{text:"Distraction Free Writing",icon:"wp_fullscreen",shortcut:"Alt+Shift+W",context:"view",onclick:o})});